!function(s){var e;s.wp=s.wp||!1,s.wp&&s.wp.customHeader&&(e=s.wp.customHeader.BaseVideoHandler.extend({test:function(e){return"video/x-vimeo"===e.mimeType},ready:function(){var e,t=this;"Vimeo"in s?t.loadVideo():((e=document.createElement("script")).src="https://player.vimeo.com/api/player.js",e.onload=function(){t.loadVideo()},document.getElementsByTagName("head")[0].appendChild(e))},loadVideo:function(){var t,i=this;this._paused=!0,this.player=t=new Vimeo.Player(this.container,{autopause:!1,autoplay:!0,background:!0,byline:!1,height:this.settings.height,loop:!0,portrait:!1,title:!1,url:this.settings.videoUrl,width:this.settings.width,id:this.settings.id}),t.on("play",function(){i._paused=!1,i.trigger("play")}),t.on("pause",function(){i._paused=!0,i.trigger("pause")}),t.ready().then(function(){var e=i.container.getElementsByTagName("img")[0];e.src===i.settings.posterUrl&&i.container.removeChild(e),i.showControls(),t.getPaused().then(function(e){(i._paused=e)||i.trigger("play")})}),t.setVolume(0)},isPaused:function(){return this._paused},pause:function(){this.player.pause()},play:function(){this.player.play()}}),s.wp.customHeader.BaseVideoHandler.extend({origin:"https://player.vimeo.com",test:function(e){return"video/x-vimeo"===e.mimeType},ready:function(){var i=this,e=this.settings.videoUrl.split("/").pop(),t=document.createElement("iframe");this._paused=!0,i.setVideo(t),t.id="wp-custom-header-video",t.src="https://player.vimeo.com/video/"+e+"?api=1&autopause=0&autoplay=0&background=1&badge=0&byline=0&loop=1&player_id="+t.id+"&portrait=0&title=0",this.iframe=t,s.addEventListener("message",function(e){var t;if(i.origin===e.origin){try{t=JSON.parse(e.data)}catch(e){return}"wp-custom-header-video"===t.player_id&&("ready"===t.event?(i.postMessage("addEventListener","pause"),i.postMessage("addEventListener","play"),i.postMessage("setVolume",0),i.play(),i.showControls()):"pause"===t.event?(i._paused=!0,i.trigger(t.event)):"play"===t.event&&(i._paused=!1,i.trigger(t.event)))}})},isPaused:function(){return this._paused},pause:function(){this.postMessage("pause")},play:function(){this.postMessage("play")},postMessage:function(e,t){t=JSON.stringify({method:e,value:t});this.iframe.contentWindow.postMessage(t,this.origin)}}),s.wp.customHeader.handlers.vimeo=new e)}(window);