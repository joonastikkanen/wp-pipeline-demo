!function(a){"use strict";var d=a(document),o=a(window);a.fn.TopMenuMargin=function(){function e(){a(window).width();var e=a(".site-header");a("#main").css("paddingTop",e.outerHeight());a("#wpadminbar"),a(window).width(),a(window).height()}a(window).on("resize orientationchange",e),e()},a.fn.sideNav=function(){var i=!1;function n(){a(document.body).toggleClass("side-nav-open").addClass("side-nav-transitioning");var e=a("#slider").data("flexslider");e&&(a(document.body).hasClass("side-nav-open")?(i=e.playing,e.playing&&e.pause()):i&&e.play());var n=!1;a(".site").one("transitionend",function(){a(document.body).removeClass("side-nav-transitioning"),n=!0}),setTimeout(function(){n||a(document.body).removeClass("side-nav-transitioning"),o.trigger("resize")},230)}a(".navbar-toggle, .side-nav-overlay").on("click touchend",function(e){a(document.body).hasClass("side-nav-transitioning")||(n(),(a(document.body).hasClass("side-nav-open")?o.width()<=640?d.find(".side-nav__close-button > button"):d.find("nav.mobile-menu-wrapper ul li:first-child"):d.find(".header-navigation-wrapper button.navbar-toggle")).focus(),a.fn.keepFocusInMobileSidebar())}),d.on("keyup",function(e){27===e.keyCode&&a(document.body).hasClass("side-nav-open")&&n()}),a(".side-nav__scrollable-container").on("touchstart",function(e){var n=this.scrollTop;n<=0&&(this.scrollTop=1),n+this.offsetHeight>=this.scrollHeight&&(this.scrollTop=this.scrollHeight-this.offsetHeight-1)})},a.fn.sbSearch=function(){return d.on("keyup",function(e){27===e.keyCode&&a("#sb-search").hasClass("sb-search-open")&&a("#sb-search").removeClass("sb-search-open")}),this.each(function(){new UISearch(this)})},a.fn.keepFocusInSearchModal=function(){d.on("keydown",function(e){var n,i,o,s,t;a("#sb-search").hasClass("sb-search-open")&&(t=d.find("#sb-search").find("input, a, button"),i=(t=Array.prototype.slice.call(t))[t.length-1],o=t[0],n=document.activeElement,s=9===e.keyCode,!(t=e.shiftKey)&&s&&i===n&&(e.preventDefault(),o.focus()),t&&s&&o===n&&(e.preventDefault(),i.focus()))})},a.fn.keepFocusInMobileSidebar=function(){d.on("keydown",function(e){var n,i,o,s,t;a(document.body).hasClass("side-nav-open")&&(t=d.find("aside#side-nav").find("input, a, button"),i=(t=Array.prototype.slice.call(t))[t.length-1],o=t[0],n=document.activeElement,s=9===e.keyCode,!(t=e.shiftKey)&&s&&i===n&&(e.preventDefault(),o.focus()),t&&s&&o===n&&(e.preventDefault(),i.focus()))})},a(function(){a.fn.sideNav(),a("#sb-search").sbSearch(),a.fn.keepFocusInSearchModal(),a(".wpzlb-layout, .builder-wrap, .entry-content, .video_cover, .featured_page_content").fitVids(),a(".sf-menu").superfish({speed:"fast",animation:{height:"show"},animationOut:{height:"hide"}}),a(".site-header").headroom({tolerance:{up:0,down:0},offset:70}),a(".side-nav .navbar-nav li.menu-item-has-children > a .svg-icon").on("click",function(e){e.preventDefault();var n=a(this).closest("li"),e=n.find("> ul");e.is(":visible")?(e.slideUp(),n.removeClass("open")):(e.slideDown(),n.addClass("open"))})})}(jQuery);